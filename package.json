{
  "name": "MicroPython-Helper",
  "icon": "media/logo.png",
  "displayName": "MicroPython-Helper",
  "description": "Fork of MPY-WorkBench to fix bugs and issues.  Browse and manage MicroPython files on ESP32 and similar boards via mpremote.",
  "version": "0.0.1",
  "publisher": "WebForks",
  "engines": {
    "vscode": "^1.84.0"
  },
  "extensionDependencies": [],
  "extensionPack": [],
  "extensionKind": [
    "workspace"
  ],
  "capabilities": {
    "untrustedWorkspaces": {
      "supported": true
    }
  },
  "extensionPack": [],
  "categories": [
    "Programming Languages",
    "Debuggers"
  ],
  "activationEvents": [
    "onLanguage:python"
  ],
  "main": "./dist/extension.js",
  "scripts": {
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "package": "vsce package"
  },
  "devDependencies": {
    "@types/node": "^20.11.30",
    "@types/vscode": "^1.84.0",
    "typescript": "^5.4.0",
    "vsce": "^2.15.0"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/WebForks/mpy-workbench/"
  },
  "contributes": {
    "viewsWelcome": [
      {
        "view": "microPythonHelperFsView",
        "contents": "No serial port selected.\n\n[Select Serial Port](command:microPythonHelper.pickPort)",
        "when": "!microPythonHelper.hasPort"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "microPythonHelperFs",
          "title": "MicroPython Helper",
          "icon": "./media/activitybar.svg"
        }
      ]
    },
    "customEditors": [],
    "css": [
      "./media/esp32fs.css"
    ],
    "views": {
      "microPythonHelperFs": [
        {
          "id": "microPythonHelperFsView",
          "name": "Files",
          "icon": "$(files)"
        },
        {
          "id": "microPythonHelperActionsView",
          "name": "Board Actions",
          "icon": "$(tools)"
        },
        {
          "id": "microPythonHelperSyncView",
          "name": "Sync Files",
          "icon": "$(sync)"
        }
      ]
    },
    "commands": [
      {
        "command": "microPythonHelper.refresh",
        "title": "MicroPython Helper: Refresh",
        "icon": "$(refresh)"
      },
      {
        "command": "microPythonHelper.openFile",
        "title": "MicroPython Helper: Open File from board"
      },
      {
        "command": "microPythonHelper.uploadActiveFile",
        "title": "MicroPython Helper: Upload Active File"
      },
      {
        "command": "microPythonHelper.newFileBoardAndLocal",
        "title": "MicroPython Helper: New File (Board + Local)",
        "icon": "$(new-file)"
      },
      {
        "command": "microPythonHelper.newFileInTree",
        "title": "MicroPython Helper: New File Here",
        "icon": "$(new-file)"
      },
      {
        "command": "microPythonHelper.newFolderInTree",
        "title": "MicroPython Helper: New Folder Here",
        "icon": "$(new-folder)"
      },
      {
        "command": "microPythonHelper.renameNode",
        "title": "MicroPython Helper: Rename File/Folder",
        "icon": "$(edit)"
      },
      {
        "command": "microPythonHelper.pickPort",
        "title": "MicroPython Helper: Select Serial Port",
        "icon": "$(plug)"
      },
      {
        "command": "microPythonHelper.refreshPorts",
        "title": "MicroPython Helper: Refresh Ports",
        "icon": "$(refresh)"
      },
      {
        "command": "microPythonHelper.setPort",
        "title": "MicroPython Helper: Use This Port"
      },
      {
        "command": "microPythonHelper.mkdir",
        "title": "MicroPython Helper: New Folder"
      },
      {
        "command": "microPythonHelper.openSerial",
        "title": "MicroPython Helper: Open Serial Monitor",
        "icon": "$(terminal)"
      },
      {
        "command": "microPythonHelper.openRepl",
        "title": "MicroPython Helper: Open REPL",
        "icon": "$(terminal)"
      },
      {
        "command": "microPythonHelper.runActiveFile",
        "title": "MicroPython Helper: Run Active File",
        "icon": "$(play)"
      },
      {
        "command": "microPythonHelper.stop",
        "title": "MicroPython Helper: Stop (Ctrl-C/A/D)",
        "icon": "$(debug-stop)"
      },
      {
        "command": "microPythonHelper.softReset",
        "title": "MicroPython Helper: Soft Reset (Ctrl-D)",
        "icon": "$(debug-restart)"
      },
      {
        "command": "microPythonHelper.syncBaseline",
        "title": "MicroPython Helper: Sync all files (Local → Board)",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "microPythonHelper.checkDiffs",
        "title": "MicroPython Helper: Check files differences",
        "icon": "$(diff)"
      },
      {
        "command": "microPythonHelper.syncDiffsLocalToBoard",
        "title": "MicroPython Helper: Sync changed Files Local → Board",
        "icon": "$(export)"
      },
      {
        "command": "microPythonHelper.syncDiffsBoardToLocal",
        "title": "MicroPython Helper: Sync changed Files Board → Local",
        "icon": "$(import)"
      },
      {
        "command": "microPythonHelper.syncBaselineFromBoard",
        "title": "MicroPython Helper: Sync all files (Board → Local)",
        "icon": "$(cloud-download)"
      },
      {
        "command": "microPythonHelper.serialSendCtrlC",
        "title": "MicroPython Helper: Interrupt (Ctrl-C, Ctrl-B)",
        "icon": "$(debug-pause)"
      },
      {
        "command": "microPythonHelper.openFileFromLocal",
        "title": "MicroPython Helper: Open File from Local (default)",
        "icon": "$(file-directory)"
      },
      {
        "command": "microPythonHelper.syncFileLocalToBoard",
        "title": "MicroPython Helper: Sync File Local → Board",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "microPythonHelper.syncFileBoardToLocal",
        "title": "MicroPython Helper: Sync File Board → Local",
        "icon": "$(cloud-download)"
      },
      {
        "command": "microPythonHelper.delete",
        "title": "MicroPython Helper: Delete from Board"
      },
      {
        "command": "microPythonHelper.deleteBoardAndLocal",
        "title": "MicroPython Helper: Delete from Board and Local",
        "icon": {
          "light": "./media/trash-red.svg",
          "dark": "./media/trash-red.svg"
        }
      },
      {
        "command": "microPythonHelper.runFromView",
        "title": "MicroPython Helper: Run Command (View Wrapper)"
      },
      {
        "command": "microPythonHelper.syncBaselineFromView",
        "title": "MicroPython Helper: Sync all files (Local → Board) (View)",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "microPythonHelper.syncBaselineFromBoardFromView",
        "title": "MicroPython Helper: Sync all files (Board → Local) (View)",
        "icon": "$(cloud-download)"
      },
      {
        "command": "microPythonHelper.checkDiffsFromView",
        "title": "MicroPython Helper: Check files differences (View)",
        "icon": "$(diff)"
      },
      {
        "command": "microPythonHelper.syncDiffsLocalToBoardFromView",
        "title": "MicroPython Helper: Sync changed Files Local → Board (View)",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "microPythonHelper.syncDiffsBoardToLocalFromView",
        "title": "MicroPython Helper: Sync changed Files Board → Local (View)",
        "icon": "$(cloud-download)"
      },
      {
        "command": "microPythonHelper.runActiveFileFromView",
        "title": "MicroPython Helper: Run Active File (View)",
        "icon": "$(play)"
      },
      {
        "command": "microPythonHelper.openReplFromView",
        "title": "MicroPython Helper: Open REPL (View)",
        "icon": "$(terminal)"
      },
      {
        "command": "microPythonHelper.deleteAllBoard",
        "title": "MicroPython Helper: Delete ALL files on Board",
        "icon": {
          "light": "./media/trash-red.svg",
          "dark": "./media/trash-red.svg"
        }
      },
      {
        "command": "microPythonHelper.deleteAllBoardFromView",
        "title": "MicroPython Helper: Delete ALL files on Board (View)",
        "icon": {
          "light": "./media/trash-red.svg",
          "dark": "./media/trash-red.svg"
        }
      },
      {
        "command": "microPythonHelper.toggleWorkspaceAutoSync",
        "title": "MicroPython Helper: Toggle workspace Auto-Sync on Save"
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "microPythonHelper.syncBaselineFromView",
          "when": "view == microPythonHelperSyncView",
          "group": "navigation@0"
        },
        {
          "command": "microPythonHelper.syncBaselineFromBoardFromView",
          "when": "view == microPythonHelperSyncView",
          "group": "navigation@1"
        },
        {
          "command": "microPythonHelper.checkDiffsFromView",
          "when": "view == microPythonHelperSyncView",
          "group": "navigation@3"
        },
        {
          "command": "microPythonHelper.syncDiffsLocalToBoardFromView",
          "when": "view == microPythonHelperSyncView",
          "group": "navigation@4"
        },
        {
          "command": "microPythonHelper.syncDiffsBoardToLocalFromView",
          "when": "view == microPythonHelperSyncView",
          "group": "navigation@5"
        },
        {
          "command": "microPythonHelper.deleteAllBoardFromView",
          "when": "view == microPythonHelperSyncView",
          "group": "navigation@9"
        },
        {
          "command": "microPythonHelper.runActiveFileFromView",
          "when": "view == microPythonHelperActionsView",
          "group": "navigation@0"
        },
        {
          "command": "microPythonHelper.openReplFromView",
          "when": "view == microPythonHelperActionsView",
          "group": "navigation@1"
        },
        {
          "command": "microPythonHelper.serialSendCtrlC",
          "when": "view == microPythonHelperActionsView",
          "group": "navigation@2"
        },
        {
          "command": "microPythonHelper.refresh",
          "when": "view == microPythonHelperFsView",
          "group": "navigation@0"
        },
        {
          "command": "microPythonHelper.pickPort",
          "when": "view == microPythonHelperFsView",
          "group": "navigation@1"
        },
        {
          "command": "microPythonHelper.checkDiffsFromView",
          "when": "view == microPythonHelperSyncView",
          "group": "navigation@3"
        }
      ],
      "view/item/context": [
        {
          "command": "microPythonHelper.renameNode",
          "when": "view == microPythonHelperFsView && (viewItem == file || viewItem == dir)",
          "group": "2_edit@1"
        },
        {
          "command": "microPythonHelper.openFile",
          "when": "view == microPythonHelperFsView && viewItem == file",
          "group": "1_open@1"
        },
        {
          "command": "microPythonHelper.openFileFromLocal",
          "when": "view == microPythonHelperFsView && viewItem == file",
          "group": "1_open@2"
        },
        {
          "command": "microPythonHelper.syncFileLocalToBoard",
          "when": "view == microPythonHelperFsView && viewItem == file",
          "group": "2_sync@1"
        },
        {
          "command": "microPythonHelper.syncFileBoardToLocal",
          "when": "view == microPythonHelperFsView && viewItem == file",
          "group": "2_sync@2"
        },
        {
          "command": "microPythonHelper.newFileInTree",
          "when": "view == microPythonHelperFsView && (viewItem == dir || viewItem == file)",
          "group": "0_create@0"
        },
        {
          "command": "microPythonHelper.newFolderInTree",
          "when": "view == microPythonHelperFsView && (viewItem == dir || viewItem == file)",
          "group": "0_create@1"
        },
        {
          "command": "microPythonHelper.delete",
          "when": "view == microPythonHelperFsView && (viewItem == file || viewItem == dir)",
          "group": "3_delete@1"
        },
        {
          "command": "microPythonHelper.deleteBoardAndLocal",
          "when": "view == microPythonHelperFsView && (viewItem == file || viewItem == dir)",
          "group": "3_delete@2"
        },
        {
          "command": "microPythonHelper.newFileBoardAndLocal",
          "when": "view == microPythonHelperFsView && !viewItem",
          "group": "0_create@0"
        },
        {
          "command": "microPythonHelper.newFileInTree",
          "when": "view == microPythonHelperFsView && !viewItem",
          "group": "0_create@1"
        },
        {
          "command": "microPythonHelper.newFolderInTree",
          "when": "view == microPythonHelperFsView && !viewItem",
          "group": "0_create@2"
        }
      ]
    },
    "configuration": {
      "type": "object",
      "title": "MicroPython Helper",
      "properties": {
        "microPythonHelper.autoSyncOnSave": {
          "type": "boolean",
          "default": false,
          "description": "Auto-sync on save: when enabled, saving a local file also uploads it to the board; when disabled, only saves locally. Per-workspace override available in .mpystudio/config.json."
        },
        "microPythonHelper.connect": {
          "type": "string",
          "default": "auto",
          "description": "Serial device (e.g. auto, /dev/ttyUSB0, COM3)"
        },
        "microPythonHelper.serialAutoSuspend": {
          "type": "boolean",
          "default": true,
          "description": "Automatically close the REPL terminal before file ops and reopen after."
        },
        "microPythonHelper.interruptOnConnect": {
          "type": "boolean",
          "default": true,
          "description": "On opening the REPL, send Ctrl-C to interrupt any running program."
        },
        "microPythonHelper.strictConnect": {
          "type": "boolean",
          "default": true,
          "description": "Before opening REPL, perform a strict handshake (reset + quick check + retry) to ensure prompt like Thonny."
        },
        "microPythonHelper.preListDelayMs": {
          "type": "number",
          "default": 150,
          "description": "Delay (ms) before listing after interrupt/reset to allow OS/device to settle."
        },
        "microPythonHelper.rootPath": {
          "type": "string",
          "default": "/",
          "description": "Root path to show on device (e.g. /, /lib)"
        },
        "microPythonHelper.usePyRawList": {
          "type": "boolean",
          "default": false,
          "description": "List directories using a Python raw REPL script (requires python3 + mpremote)."
        },
        "microPythonHelper.baudRate": {
          "type": "number",
          "default": 115200,
          "description": "Serial baud rate for UART bridges (ignored on native USB CDC). Try 921600 or 1500000 if your board/adapter supports it."
        },
        "microPythonHelper.pythonPath": {
          "type": "string",
          "default": "",
          "description": "Override Python interpreter path. Leave empty to use VS Code's configured Python interpreter."
        }
      }
    }
  }
}